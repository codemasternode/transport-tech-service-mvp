{"version":3,"sources":["../src/index.js"],"names":["PORT","process","env","MONGO_DB_URL","mode","app","use","express","path","join","__dirname","credentials","origin","urlencoded","extended","json","get","req","res","console","log","sendFile","server","listen","on","close"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAIA,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAA/B;AAAA,IACEG,YAAY,GACVF,OAAO,CAACC,GAAR,CAAYC,YAFhB;;AAGA,IAAIF,OAAO,CAACC,GAAR,CAAYE,IAAZ,KAAqB,KAAzB,EAAgC;AAC9BJ,EAAAA,IAAI,GAAG,IAAP;AACAG,EAAAA,YAAY,kCAAZ;AACD,C,CAED;;;AACA,IAAME,GAAG,GAAG,0BAAZ;AACA,oBAAkBF,YAAlB;AACAE,GAAG,CAACC,GAAJ,CAAQC,8BAAeC,iBAAKC,IAAL,CAAUC,SAAV,EAAqB,oBAArB,CAAf,CAAR;AACAL,GAAG,CAACC,GAAJ,CAAQ,sBAAK;AAAEK,EAAAA,WAAW,EAAE,IAAf;AAAqBC,EAAAA,MAAM,EAAE;AAA7B,CAAL,CAAR;AACAP,GAAG,CAACC,GAAJ,CAAQC,oBAAQM,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AACAT,GAAG,CAACC,GAAJ,CAAQC,oBAAQQ,IAAR,EAAR;AACAV,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyB,uBAAzB;AACAD,GAAG,CAACC,GAAJ,CAAQ,qBAAR,EAA+B,+BAA/B;AACAD,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwB,0BAAxB;AACAD,GAAG,CAACW,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzBC,EAAAA,OAAO,CAACC,GAAR,CAAYZ,iBAAKC,IAAL,CAAUC,SAAV,EAAqB,+BAArB,CAAZ;AACAQ,EAAAA,GAAG,CAACG,QAAJ,CAAab,iBAAKC,IAAL,CAAUC,SAAV,EAAqB,+BAArB,CAAb;AACD,CAHD;AAKA,IAAMY,MAAM,GAAGjB,GAAG,CAACkB,MAAJ,CAAWvB,IAAX,EAAiB,YAAM;AACpCmB,EAAAA,OAAO,CAACC,GAAR,0CAA8CpB,IAA9C;AACD,CAFc,CAAf;AAIAC,OAAO,CAACuB,EAAR,CAAW,MAAX,EAAmB,YAAM;AACvBF,EAAAA,MAAM,CAACG,KAAP;AACD,CAFD;eAKepB,G","sourcesContent":["import express from \"express\";\nimport cors from \"cors\";\nimport mongodbConnection from \"./config/db\";\nimport roadRoutes from \"./routes/road\";\nimport webStatsRoutes from \"./routes/websiteStats\";\nimport path from 'path'\nimport contactRoutes from './routes/contact'\nimport mailer from \"./config/mailer\";\nimport dotenv from \"dotenv/config\";\n\nlet PORT = process.env.PORT || 5000,\n  MONGO_DB_URL =\n    process.env.MONGO_DB_URL\nif (process.env.mode === \"DEV\") {\n  PORT = 5000\n  MONGO_DB_URL = `mongodb://localhost:27017/tts`\n}\n\n//`mongodb://${process.env.MONGO_USER}:${process.env.MONGO_PASSWORD}@localhost:27018,localhost:27019,localhost:27017/transporttechservice?replicaSet=rs0`,\nconst app = express();\nmongodbConnection(MONGO_DB_URL);\napp.use(express.static(path.join(__dirname, '../../client/build')));\napp.use(cors({ credentials: true, origin: 'http://localhost:5000' }));\napp.use(express.urlencoded({ extended: true }));\napp.use(express.json());\napp.use(\"/api/distance\", roadRoutes());\napp.use(\"/api/webStatsRoutes\", webStatsRoutes());\napp.use(\"/api/contact\", contactRoutes())\napp.get('*', (req, res) => {\n  console.log(path.join(__dirname, '../../client/build/index.html'))\n  res.sendFile(path.join(__dirname, '../../client/build/index.html'));\n});\n\nconst server = app.listen(PORT, () => {\n  console.log(`Application is running on port ${PORT}`);\n});\n\nprocess.on(\"exit\", () => {\n  server.close();\n});\n\n\nexport default app;\n"],"file":"index.js"}